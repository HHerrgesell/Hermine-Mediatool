# Hermine API Configuration
HERMINE_BASE_URL=https://hermine.example.com
HERMINE_USERNAME=your_username
HERMINE_PASSWORD=your_password
HERMINE_ENCRYPTION_KEY=your_rsa_passphrase
HERMINE_TIMEOUT=30
HERMINE_VERIFY_SSL=true

# Hermine Domains (optional - defaults are for THW Messenger)
# HERMINE_APP_DOMAIN=https://app.thw-messenger.de
# HERMINE_FILE_DOMAIN=https://app.thw-messenger.de/thw/app.thw-messenger.de

# Hermine API Client Settings (optional - defaults mimic browser behavior)
# HERMINE_USER_AGENT=Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Mobile Safari/537.36
# HERMINE_APP_NAME=hermine@thw-Chrome:97.0.4692.99-browser-4.11.1

# Target Channels (comma-separated)
TARGET_CHANNELS=channel_id_1,channel_id_2

# Local Storage
DOWNLOAD_DIR=./downloads
DATA_DIR=./data  # Database and metadata storage (defaults to DOWNLOAD_DIR if not set)
ORGANIZE_BY_CHANNEL=true
ORGANIZE_BY_DATE=true
ORGANIZE_BY_SENDER=true
PATH_TEMPLATE={year}/{month:02d}/{sender}_{filename}

# Web UI (optional)
WEB_PORT=8080

# Nextcloud Integration (optional)
NEXTCLOUD_ENABLED=false
NEXTCLOUD_URL=https://nextcloud.example.com
NEXTCLOUD_USERNAME=nc_username
NEXTCLOUD_PASSWORD=nc_password
NEXTCLOUD_REMOTE_PATH=/Hermine-Media/
NEXTCLOUD_AUTO_UPLOAD=false
DELETE_LOCAL_AFTER_UPLOAD=false
NEXTCLOUD_UPLOAD_TIMEOUT=120   # Timeout for file upload/download operations (seconds)
NEXTCLOUD_CONNECT_TIMEOUT=30   # Timeout for initial WebDAV connection (seconds)

# Download Parameters
MAX_CONCURRENT_DOWNLOADS=5
RETRY_ATTEMPTS=3
RETRY_DELAY=1.0
RETRY_BACKOFF=2.0
DOWNLOAD_TIMEOUT=60
CHUNK_SIZE=8388608
MAX_FILE_SIZE_MB=5000

# File Types
ALLOWED_MIMETYPES=image/jpeg,image/png,image/gif,image/webp,video/mp4,video/webm,video/quicktime,video/x-msvideo

# Storage & Processing
CREATE_MANIFEST=true
CALCULATE_CHECKSUMS=true
EXTRACT_METADATA=true
GENERATE_THUMBNAILS=false

# EXIF Processing
SET_EXIF_AUTHOR=true          # Set Author EXIF field from uploader name if not present
SANITIZE_EXIF=false           # Remove sensitive EXIF data (GPS, serial numbers, etc.) - default: keep original

# Logging
LOG_LEVEL=INFO
LOG_FILE=hermine_downloader.log
LOG_CONSOLE=true
